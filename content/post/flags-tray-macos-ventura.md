+++
Categories = ["desktop"]
Description = "Возвращаем флаги раскладок в MacOS 13.0 Ventura"
Tags = ["macos", "desktop"]
date = "2022-10-31T19:31:41+03:00"
title = "Как вернуть флаги раскладок клавиатуры в трей MacOS 13.0 Ventura"
Banner = "/img/flags-macos-ventura.png"
+++

Бороться с новыми иконками раскладок в MacOS я начал еще с 12.4 версии. Тогда впервые изменили цветные флаги на буквенное обозначение. Мне это не понравилось, и я решил вернуть флаги, и сделал [вот такую инструкцию](/post/flags-tray-macos/) для этого. Но после обновления до 13.0 Ventura, эта инструкция перестала работать. Здесь покажу как в новой MacOS вернуть привычные флаги.

<!--more-->

## Возвращаем флаги раскладок клавиатуры

Я продублирую шаги из предыдущей инструкции, и добавлю те, которые нужны для MacOS 13.0 Ventura.

1. Скачиваем [ru-keyboard-with-icon.bundle.zip](/files/ru-keyboard-with-icon.bundle.zip) и распаковываем.
2. Кладем ```ru-keyboard-with-icon.bundle``` файл в ```/Library/Keyboard Layouts```. Для этого в Finder нажимаем ```Сommand + Shift + G``` и переходим в нужный каталог.
3. Перезагружаемся 
4. В настройках Клавиатуры добавляем источники ввода "США (Флаг)"/"Британская (Флаг)" и "Русская (Флаг)". До последней версии этого было достаточно, но в 13.0 **не удаляется дефолтная раскладка США**.
![Не удаляется раскладка США](/img/flags-macos-ventura1.png)
5. Чтобы удалить эту раскладку без флага, запустите Терминал и вставьте следующую команду:
{{< highlight console >}}
plutil -convert xml1 ~/Library/Preferences/com.apple.HIToolbox.plist && \
 open -a TextEdit ~/Library/Preferences/com.apple.HIToolbox.plist
{{< /highlight >}}
У вас откроется текстовый редактор в котором нужно удалить секцию с этой раскладкой. На скриншоте я выделил кусок, который нужно удалить.
![Удалите раскладку из конфига](/img/flags-macos-ventura2.png)
6. Сохраняем файл (⌘ S) и перезагружаемся.
7. Вы снова великолепны!

![Флаги снова с нами](/img/flags-macos-ventura3.png)
